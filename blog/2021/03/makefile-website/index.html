<!doctype html><html lang=en-us x-data="{darkMode: false}" x-init="darkMode = JSON.parse(localStorage.getItem('darkMode')); $watch('darkMode', value => JSON.stringify(localStorage.setItem('darkMode', value)))" :class="{'dark': darkMode === true}"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The personal website of Jacob Hilker."><title>Using a Makefile With My Website | Jacob's Website</title><link rel=stylesheet href="/css/tw.min.0df195ee6d8fef9cde924ea1c3e1cfe39a21ef00669a6b8e3a0dac5249edfd67.css" type=text/css integrity="sha256-DfGV7m2P75zekk6hw+HP45oh7wBmmmuOOg2sUknt/Wc="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/devicons/devicon@v2.10.1/devicon.min.css><title>Using a Makefile With My Website | Jacob's Website</title><script defer src=https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js></script>
<script>localStorage.darkMode==="true"||!("darkMode"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><script src=/js/main.js></script></head><body><div class="grid h-screen grid-areas-mobile grid-rows-layout lg:grid-areas-desktop grid-cols-layout"><header class="z-10 items-center text-gray-800 bg-gray-200 dark:bg-navy-700 dark:text-gray-200 grid-in-header"><div class="flex items-center justify-between h-[52px] 2xl:h-[62px]"><button class="justify-start h-full p-3 2xl:p-4 lg:hidden hover:bg-gray-400 dark:hover:bg-gray-700" x-on:click=toggleSidebar();><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/></svg></button><nav class="items-center hidden h-full space-x-3 lg:flex"><a href=/ class="block h-full p-3 2xl:p-4 transition duration-100 hover:bg-gray-400 dark:hover:bg-navy-600">Home</a>
<a href=/about/ class="block h-full p-3 2xl:p-4 transition duration-100 hover:bg-gray-400 dark:hover:bg-navy-600">About</a>
<a href=/resume/ class="block h-full p-3 2xl:p-4 transition duration-100 hover:bg-gray-400 dark:hover:bg-navy-600">Resumé</a>
<a href=/projects/ class="block h-full p-3 2xl:p-4 transition duration-100 hover:bg-gray-400 dark:hover:bg-navy-600">Projects</a><div class="relative inline-block h-full items-center p-3 2xl:p-4 hover:bg-gray-400 dark:hover:bg-navy-600" x-data="{ open: false }"><a @click="open = !open" class="flex items-center"><span>Blog</span><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mt-0.5 ml-0.5 transform" viewBox="0 0 20 20" fill="currentcolor" :class="{'rotate-180': open}"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414.0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414.0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></a><div class="absolute mt-2 bg-gray-200 rounded shadow-xl l-0 dark:bg-gray-800 w-36" x-show=open x-transition:enter="transition-transform transition-opacity ease-out duration-200" x-transition:enter-start="opacity-0 transform -translate-y-2" x-transition:enter-end="opacity-100 transform translate-y-0" x-transition:leave="transition ease-in-out duration-200" x-transition:leave-end="opacity-0 transform -translate-y-3"><a href=/blog/ class="block px-2 py-1 hover:text-royal-600 dark:hover:text-royal-400">Recent Posts</a>
<a href=/archive/ class="block px-2 py-1 hover:text-royal-600 dark:hover:text-royal-400">Blog Archive</a>
<a href=/blog/feed.xml class="block px-2 py-1 hover:text-royal-600 dark:hover:text-royal-400">RSS Feed</a></div></div></nav><div class="flex items-center h-full my-auto space-x-4"><button class="h-full p-4 hover:bg-gray-400 dark:hover:bg-gray-700" @click="darkMode = !darkMode"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 my-auto" viewBox="0 0 20 20" fill="currentcolor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg></button>
<button class="h-full p-4 lg:hidden hover:bg-gray-400 dark:hover:bg-gray-700" @click=toggleMobileMenu();><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/></svg></button></div></div><div id=mobile-menu class="hidden h-full text-right lg:hidden"><a href=/ class="block px-4 py-2 text-sm hover:text-royal-600 dark:hover:text-royal-400">Home</a>
<a href=/about/ class="block px-4 py-2 text-sm hover:text-royal-600 dark:hover:text-royal-400">About</a>
<a href=/resume/ class="block px-4 py-2 text-sm hover:text-royal-600 dark:hover:text-royal-400">Resumé</a>
<a href=/projects/ class="block px-4 py-2 text-sm hover:text-royal-600 dark:hover:text-royal-400">Projects</a><div x-data={open:false}><a class="text-sm text-right px-3 py-2 text-right hover:text-royal-600 dark:hover:text-royal-400 flex items-center" x-on:click="open = !open"><span class="w-full text-right">Blog</span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mt-0.5 transform" viewBox="0 0 20 20" fill="currentcolor" x-bind:class="{'rotate-90': open}"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414.0z" clip-rule="evenodd"/></svg></a><div x-show=open x-transition:enter="transition-transform transition-opacity ease-out duration-200" x-transition:enter-start="opacity-0 transform -translate-y-2" x-transition:enter-end="opacity-100 transform translate-y-0" x-transition:leave="transition ease-in-out duration-200" x-transition:leave-end="opacity-0 transform -translate-y-2"><a href=/blog/ class="block text-sm px-4 py-2 hover:text-royal-600 dark:hover:text-royal-400">Recent Posts</a>
<a href=/archive/ class="block text-sm px-4 py-2 hover:text-royal-600 dark:hover:text-royal-400">Blog Archive</a>
<a href=/blog/feed.xml class="block text-sm px-4 py-2 hover:text-royal-600 dark:hover:text-royal-400">RSS Feed</a></div></div></div></header><aside class="flex-col items-center hidden bg-slate-300 dark:bg-slate-700 dark:text-gray-100 grid-in-sidebar lg:flex"><span class="p-2 font-semibold uppercase">Jacob's Website</span><div class="mt-3 overflow-hidden rounded-full h-44 w-44 bg-royal-600"><img src=/img/jhilker.webp alt="SVG of myself"></div><p class="p-2 mx-auto mt-2 text-sm text-center text-gray-600 dark:text-gray-400 space-x-2.5">A front-end developer, who enjoys using Emacs, Hugo, Python, and Tailwind. Currently looking for work.</p><div class="mt-2 flex space-x-2.5 text-xl p-3"><a href=https://gitlab.com/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-gitlab'></i></a>
<a href=https://github.com/jhilker1/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-github'></i></a>
<a href=https://linkedin.com/in/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-linkedin'></i></a>
<a href=https://dev.to/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-dev'></i></a>
<a href=https://codepen.io/hilkerj/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-codepen'></i></a>
<a href=/blog/feed.xml class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fas fa-rss'></i></a>
<a href=mailto:jacob.hilker2@gmail.com class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fas fa-envelope'></i></a></div></aside><main class="px-3 pt-3 grid-in-main !max-w-none overflow-y-scroll scrollbar-thin prose prose-sm lg:prose-base prose-slate prose-a:text-royal-600 dark:prose-a:text-royal-400 dark:prose-invert scroll-smooth motion-reduce:scroll-auto prose-headings:font-serif"><div class="grid-cols-1 grid lg:grid-cols-[3fr,1fr]"><article><header><h1>Using a Makefile With My Website</h1><div class=space-x-3><span><i class="fas fa-calendar"></i>
<b>Posted:</b> 12 Mar. 2021</span>
<span><i class="fas fa-stopwatch"></i>
4-minute read</span>
<span><i class="fas fa-calendar"></i>
<b>Last Updated:</b> 07 Apr. 2022</span></div><div class=mt-2><i class="fas fa-folder-open"></i><b>Categories:</b>
<a href=/categories/programming>Programming</a>
<a href=/categories/webdev>Webdev</a>
<a href=/categories/hugo>Hugo</a></div><div class=mt-2><i class="fas fa-tags"></i><b>Tagged:</b>
<a href=/tags/programming>#Programming</a>
<a href=/tags/webdev>#Webdev</a>
<a href=/tags/html>#HTML</a>
<a href=/tags/makefile>#Makefile</a>
<a href=/tags/hugo>#Hugo</a></div></header><p>It shouldn&rsquo;t be a surprise that I use Hugo as a static site generator. Not only is it fast, but it is also incredibly customizable, which is something that I find useful considering my website has so much stuff on it. In addition, being able to create shortcodes to avoid reusing code on certain pages is such a helpful tool for wikis. Finally, having support for Emacs&rsquo; <a href=https://orgmode.org/>Org-Mode</a> is what initially drew me to Hugo in the first place. I had tried using org-publish to try and set up a website, but had so many little issues with it that I decided to scrap it and keep looking around for a better way to set up a website. That was when I found Hugo, and decided to try it out.</p><p>Ultimately, I found that when I was starting to create layouts and templates, typing the full <code>hugo server -D --navigateToChanged</code> was just long to type (yes, lazy, I know), especially when I was debugging an error with my shortcodes and templates. Being able just to type <code>make server</code> makes it much faster for me to debug code but also to get previews of code.</p><h2 id=not-just-for-debugging>Not Just For Debugging</h2><p>Hugo also allows for content to be created with a certain <a href=https://gohugo.io/content-management/archetypes/>archetype</a> - by default, this matches the directory you are creating the content for. As an example, if I had an archetype called <code>project.org</code>, if I ran <code>hugo new project/hello-world.org</code> the file <code>content/project/hello-world.org</code> would be created, with all the content needed for a blog post. Here&rsquo;s what my org-mode project archetype looks like:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-org data-lang=org><span class=line><span class=cl><span class=cs>#+title</span><span class=c>: {{ replace .Name &#34;-&#34; &#34; &#34; | title }}</span>
</span></span><span class=line><span class=cl><span class=cs>#+draft</span><span class=c>: true</span>
</span></span><span class=line><span class=cl><span class=cs>#+srclang</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+srcicon</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+summary</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+type</span><span class=c>: project</span>
</span></span><span class=line><span class=cl><span class=cs>#+featured</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+layout</span><span class=c>: single</span>
</span></span><span class=line><span class=cl><span class=cs>#+percDone</span><span class=c>: 0</span>
</span></span><span class=line><span class=cl><span class=cs>#+lastUpdated</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+docs</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+projectSite</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+gitlab</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+github</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+bitbucket</span><span class=c>:</span>
</span></span><span class=line><span class=cl><span class=cs>#+readmore</span><span class=c>: false</span>
</span></span></code></pre></td></tr></table></div></div><p>Obviously that&rsquo;s a lot of custom parameters, so I&rsquo;ll try to go through line-by-line and explain what&rsquo;s going on.</p><p>The <code>title</code>, <code>draft</code>, <code>layout</code>, <code>type</code>, and <code>featured</code> parameters are all easy enough to understand, I feel like. The <code>srclang</code> represents the language or languages the project is written in - for my pyronsworn project, as an example, it&rsquo;s written in python. The <code>srcicon</code> is the icon to use to display next to the source language - it must be one of the languages or icons listed at <a href=https://devicon.dev/>devicon.dev</a>. The <code>percDone</code> is used to fill the progress bar across from the source language - it represents how much is approximately done on the latest release of the project. The last 4 parameters are all different links to places where the project lives - additionally, you can set up a trello link, add a trello parameter to the project frontmatter, and you can see the link to the roadmap, though that isn&rsquo;t required. The <code>readmore</code> variable is used to provide a way to read a little bit more about the project before trying out the project.</p><p>While setting up a snippet could be useful for this, Hugo has the tools to do it automatically. However, the one thing I hadn&rsquo;t had much luck with was using the <code>read</code> command in a Makefile. Ultimately, I figured out the answer through an answer on <a href=https://unix.stackexchange.com/questions/322517/read-command-not-working-in-a-makefile>the Unix StackExchange</a> which ultimately allowed me to read in user input when I ran a <code>Make</code> command. So now, instead of having to run <code>hugo new projects/some-project.org -k project</code>, I can just run <code>make project</code> and immediately get the template set up. While not a perfect setup, it&rsquo;s much easier to get going rather than using the full command or even creating an empty file in the right directory. And while I could set up different file formats in the Makefile, such as <code>post.org</code>, I feel like getting the initial functionality down is much more important than bonus features.</p><p>Here is my current Makefile for the website.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-makefile data-lang=makefile><span class=line><span class=cl><span class=nf>.PHONY</span><span class=o>:</span> <span class=n>server</span> <span class=n>post</span> <span class=n>project</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>server</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=err>@hugo</span> <span class=err>server</span> <span class=err>-D</span> <span class=err>--navigateToChanged</span> <span class=err>--verbose</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>post</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nf>@echo &#34;Enter the file name (include the suffix)</span><span class=o>:</span> &#34; &amp;&amp; <span class=n>read</span> <span class=n>filename</span>; <span class=n>hugo</span> <span class=n>new</span> <span class=n>blog</span>/$$<span class=n>filename</span> -<span class=n>k</span> <span class=n>post</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>project</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nf>@echo &#34;Enter the file name (include the suffix)</span><span class=o>:</span> &#34; &amp;&amp; <span class=n>read</span> <span class=n>filename</span>; <span class=n>hugo</span> <span class=n>new</span> <span class=n>projects</span>/$$<span class=n>filename</span> -<span class=n>k</span> <span class=n>project</span>
</span></span></code></pre></td></tr></table></div></div><div class="lg:hidden text-md"><details><summary><strong>See Also</strong></summary><li class="ml-3 text-sm list-none"><a href=/projects/all-for-one/>All for One</a></li><li class="ml-3 text-sm list-none"><a href=/blog/2021/02/featuring-site-content-in-hugo/>Featuring Site Content In Hugo</a></li></details></div></article><aside class="h-auto p-5 mobile:hidden"><h3 class="font-sans mb-1">See Also</h3><li class="ml-3 list-none"><a href=/projects/all-for-one/>All for One</a></li><li class="ml-3 list-none"><a href=/blog/2021/02/featuring-site-content-in-hugo/>Featuring Site Content In Hugo</a></li></aside></div></main><footer class="z-10 text-gray-800 bg-gray-200 grid-in-footer dark:bg-navy-700 dark:text-gray-200"><div class="flex items-center justify-between h-[52px] 2xl:h-[62px]"><nav class="items-center hidden h-full space-x-3 lg:flex"></nav></div></footer></div><aside class="-translate-x-full sidebar-overlay bg-slate-300 dark:bg-navy-600 dark:text-gray-100"><div class="flex flex-row items-center w-full"><a href=https://jhilker1.github.io/ class="p-2 font-semibold uppercase font-header">Jacob's Website</a>
<button class="p-4 ml-auto transition-colors duration-100 hover:bg-gray-400 dark:hover:bg-slate-600" @click=toggleSidebar();><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><div class="w-48 h-48 mt-3"><img src=/img/jhilker.webp alt="user profile picture" class="object-cover h-full min-w-full rounded-full"></div><p class="mx-auto mt-2 text-sm text-center text-gray-600 dark:text-gray-400">A front-end developer, who enjoys using Emacs, Hugo, Python, and Tailwind. Currently looking for work.</p><div class="mt-2 flex space-x-2.5 text-xl p-3"><a href=https://gitlab.com/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-gitlab'></i></a>
<a href=https://github.com/jhilker1/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-github'></i></a>
<a href=https://linkedin.com/in/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-linkedin'></i></a>
<a href=https://dev.to/jhilker/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-dev'></i></a>
<a href=https://codepen.io/hilkerj/ class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fab fa-codepen'></i></a>
<a href=/blog/feed.xml class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fas fa-rss'></i></a>
<a href=mailto:jacob.hilker2@gmail.com class="transition-colors text-2xl duration-75 hover:text-blue-400"><i class='fas fa-envelope'></i></a>
<span class="absolute bottom-0 mb-4 text-sm text-gray-700 dark:text-gray-400">&copy;2021-2022 Jacob Hilker</span></aside></body></html>