---
import {CollectionEntry} from "astro:content";
import { Icon} from "astro-icon";
import {formatPostDate} from "@lib/utils";

interface Props {
    post: CollectionEntry<"blog">,
    wordCount: number
}
const { post, wordCount } = Astro.props as Props;
---

  <article class="py-4 flex flex-wrap md:flex-nowrap">
        <div class="md:w-72 md:mb-0 mb-6 align-baseline">
          <Icon name="mdi:calendar" class="inline-block -mt-px text-sm w-4 h-4"/>
          <time datetime={post.data.pubDate.toISOString()} class="font-semibold text-sm text-gray-700">{formatPostDate(post.data.pubDate)}</time>
        </div>
        <div class="md:flex-grow">
          <h2 class="text-2xl font-medium text-gray-900 title-font mb-2 font-serif">{post.data.title}</h2>
          <p class="prose max-w-[80ch]">
            {`${post.body.split(" ").slice(0, wordCount + 1).join(" ")}...`}
            </p>
        </div>
      </article>
