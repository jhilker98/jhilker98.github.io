---
import BaseLayout from "@layouts/BaseLayout.astro";
import PostHeader from "@components/blog/PostHeader.astro";
import { Image } from "astro:assets";
const { frontmatter } = Astro.props;
const {
  title,
  pubDate,
  lastModDate = pubDate,
  description,
  tags,
  cover,
  coverAlt = "",
  coverClasses = [],
} = frontmatter;
---

<BaseLayout title={title} description={description}>
  <article
    class="p-2 prose mx-auto max-w-[80ch] prose-headings:font-serif prose-neutral dark:prose-invert prose-branding-blue">
    {
      cover !== undefined && (
        <Image
          src={cover}
          alt={coverAlt}
          format="webp"
          class:list={["object-cover", "w-full", coverClasses]}
        />
      )
    }
    <PostHeader
      title={title}
      pubDate={pubDate}
      lastModDate={lastModDate}
      tags={tags}
    />
    <slot />
    <script
      src="https://giscus.app/client.js"
      data-repo="jhilker98/jhilker98.github.io"
      data-repo-id="R_kgDOHxig_Q"
      data-category="Comments"
      data-category-id="DIC_kwDOHxig_c4CSrzq"
      data-mapping="pathname"
      data-strict="0"
      data-reactions-enabled="1"
      data-emit-metadata="0"
      data-input-position="top"
      data-theme="preferred_color_scheme"
      data-lang="en"
      data-loading="lazy"
      crossorigin="anonymous"
      async
    ></script>
  </article>
</BaseLayout>
